# 私有区块传输网络

尽管紧凑块在最大程度上缩短了区块在网络中传播所需的时间，但仍然有可能进一步减少延迟。然而，与紧凑块不同，其他解决方案涉及到的权衡使它们无法在公共P2P中继网络中使用或不适合。因此，人们已经开始尝试为区块建立私有中继网络。

一种简单的技术是预先选择终点之间的路由。例如，一个中继网络，其中的服务器运行在靠近主要跨洋光纤线的数据中心中，可能能够比等待区块到达距离光纤线几公里之远的家庭用户节点更快地转发新的区块。

另一种更复杂的技术是前向纠错编码（FEC）。这允许将紧凑块消息分成几部分，并附加额外的数据到每个部分。如果有任何部分没有被接收到，那么这部分可以从已接收到的部分重建。根据设置，如果部分丢失，最多可以重建几部分。

FEC避免了由于底层网络连接的问题而导致紧凑块（或其某些部分）未到达的问题。这些问题经常发生，但我们通常不会注意到，因为我们大多使用自动重新请求丢失数据的协议。然而，请求丢失的数据会使接收数据的时间延长三倍。例如：

1. Alice向Bob发送一些数据。
2. Bob未收到数据（或数据损坏）。Bob重新向Alice请求数据。
3. Alice再次发送数据。

第三种技术是假设接收数据的所有节点几乎都具有相同的内存池中的大部分交易，因此它们都可以接受相同的紧凑块。这不仅节省了在每个跳点计算紧凑块的时间，而且意味着每个跳点可以在验证它们之前简单地将FEC数据包中继到下一个跳点。

前述每种方法的权衡是，它们与中心化结构很好地配合，但在无法相互信任的分散网络中效果不佳。位于数据中心的服务器需要花费金钱，并且通常可以被数据中心的运营者访问，这使它们比安全的家用计算机不太可靠。在验证之前传输数据很容易浪费带宽，因此它只能在私有网络中合理地使用，在这种网络中各方之间存在一定程度的信任和责任。

原始的比特币中继网络是由开发者Matt Corallo于2015年创建的，旨在实现矿工之间的快速区块同步，延迟极低。该网络由托管在全球基础设施上的几个虚拟专用服务器（VPSes）组成，用于连接大多数矿工和矿池。

2016年，随着由开发者Matt Corallo创建的快速互联网比特币中继引擎（FIBRE）的推出，原始的比特币中继网络被替换。FIBRE是一种软件，允许在节点网络中运行基于UDP的中继网络，用于中继区块。FIBRE实现了FEC和紧凑块优化，进一步减少了传输数据量和网络延迟。
