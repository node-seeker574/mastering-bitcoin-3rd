# 挖矿节点

一些节点在比特币网络中是专门的节点，称为矿工节点。小静是一个比特币矿工；他通过运行“挖矿设备”来赚取比特币，这是一个专门设计用于挖矿比特币的计算机硬件系统。小静的专用挖矿硬件连接到运行完整节点的服务器。与其他完整节点一样，小静的节点接收并传播比特币网络上的未确认交易。然而，小静的节点还将这些交易聚合到新的区块中。

让我们跟随在Alice从Bob购买商品时（见“从在线商店购买”第16页）创建的区块。为了演示本章的概念，让我们假设包含Alice交易的区块是由小静的挖矿系统挖出的，并跟踪Alice的交易如何成为这个新区块的一部分。

小静的挖矿节点维护着区块链的本地副本。在Alice购买商品时，小静的节点已经跟上了具有最多工作证明的区块链。小静的节点正在监听交易，尝试挖掘新的区块，并且还在监听其他节点发现的区块。当小静的节点正在挖掘时，它通过比特币网络接收到了一个新的区块。这个区块的到来标志着对该区块的搜索结束，以及对下一个区块的搜索开始。

在前几分钟里，小静的节点在寻找上一个区块的解决方案的同时，还在准备下一个区块的交易。到现在为止，它已经在内存池中收集了几千个交易。在接收到新的区块并验证通过后，小静的节点还将把它与内存池中的所有交易进行比较，并删除已经包含在该区块中的交易。留在内存池中的交易是未确认的，正在等待记录在新的区块中。

小静的节点立即构建一个新的部分区块，作为下一个区块的候选区块。这个区块称为候选区块，因为它还不是一个有效的区块，因为它不包含有效的工作证明。只有当矿工成功找到符合工作证明算法的解决方案时，区块才变得有效。

当小静的节点聚合来自内存池的所有交易时，新的候选区块将包含数千个每笔交易都支付的交易费，他将尝试领取这些费用。
