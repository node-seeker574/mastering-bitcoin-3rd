# 综合介绍

“挖矿”这个词有点误导性。通过唤起对贵金属开采的联想，它将我们的注意力集中在挖矿的奖励上，即每个区块中生成的新比特币。尽管挖矿是通过这种奖励来激励的，但挖矿的主要目的并不是奖励或生成新比特币。如果你将挖矿仅视为生成比特币的过程，那么你误把手段（激励）当作了过程的目标。挖矿是支撑去中心化清算所的机制，用于验证和清算交易。挖矿是使比特币特殊的发明之一，是基于P2P数字现金的去中心化共识机制的基础之一。

挖矿保障了比特币系统的安全性，并使得网络范围内的共识得以出现，而无需中央权威。新铸造的比特币和交易费用的奖励是一种激励机制，将矿工的行为与网络的安全性对齐，同时实施货币供应。

```
挖矿是比特币的共识安全性分散化的机制之一。
```

矿工将新交易记录在全球区块链上。每隔约10分钟就会挖出一个新的区块，其中包含自上一个区块以来发生的交易，从而将这些交易添加到区块链中。成为区块一部分并添加到区块链上的交易被视为已确认，这使得比特币的新所有者知道，他们收到的比特币已经受到了不可撤销的保障。

此外，区块链中的交易具有由它们在区块链中的位置定义的拓扑顺序。如果一个交易出现在较早的区块中，或者在同一个区块中较早出现，那么它就比另一个交易更早。在比特币协议中，仅当交易花费了出现在区块链中较早的交易的输出时（无论它们是在同一个区块中还是在较早的区块中），该交易才有效，且仅当没有任何先前的交易花费了这些相同的输出时才有效。在一条区块链中，拓扑顺序的执行确保没有两个有效的交易可以花费相同的输出，从而消除了双重支付的问题。在一些建立在比特币之上的协议中，比特币交易的拓扑顺序也被用来建立事件序列；我们将在“单次使用密封”一节中进一步讨论这个想法。

矿工因提供挖矿所带来的安全性而获得两种类型的奖励：每个新区块中创建的新比特币（称为补贴），以及包含在区块中的所有交易的交易费用。为了获得这个奖励，矿工们竞争以满足基于加密哈希算法的挑战。解决这个问题的解决方案，称为工作证明，包含在新区块中，并作为证明矿工投入了大量的计算工作量。解决工作证明算法以获得奖励和记录交易到区块链的权利的竞争，是比特币安全模型的基础。

比特币的货币供应是通过类似于中央银行通过印刷纸币发行新货币的过程创建的。矿工每增加一个区块就可以添加的新比特币的最大数量大约每四年减少一半（或者确切地说是每增加210,000个区块）。它从2009年1月的每个区块50个比特币开始，于2012年11月减半为每个区块25个比特币。在2016年7月再次减半为每个区块12.5个比特币，然后在2020年5月减半为6.25个比特币。根据这个公式，挖矿奖励将以指数方式递减，直到大约在2140年，所有的比特币都将被发行完毕。在2140年之后，将不会再发行新的比特币。

比特币矿工还从交易中获得费用。每个交易都可能包含一个交易费，形式为交易的输入和输出之间的比特币的余额。赢得比特币的矿工可以“留下找零”来处理包含在获胜区块中的交易。如今，交易费通常仅占矿工收入的一小部分，绝大部分收入来自新铸造的比特币。然而，随着奖励随时间减少和每个区块中的交易数量增加，越来越大比例的挖矿收入将来自交易费。逐渐地，挖矿奖励将被交易费主导，这将成为矿工的主要激励。在2140年之后，每个区块中的新比特币数量将降至零，挖矿将仅由交易费来激励。

在本章中，我们首先将挖矿作为货币供应机制进行讨论，然后再看看挖矿的最重要功能：支撑比特币安全的去中心化共识机制。

为了理解挖矿和共识，我们将追踪Alice的交易，看它是如何被Jing的挖矿设备接收并添加到一个区块中的。然后，我们将跟踪这个区块是如何被挖出、添加到区块链中，并通过紧急共识的过程被比特币网络接受的。\
